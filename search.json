[{"path":"https://ropengov.github.io/helsinki/articles/helsinki_tutorial.html","id":"helsinki---tutorial","dir":"Articles","previous_headings":"","what":"helsinki - tutorial","title":"Helsinki open data R tools","text":"helsinki R package provides tools access open data Helsinki region Finland. contact information, source code bug reports, see project’s GitHub page. similar packages related blog posts, see rOpenGov project website.","code":""},{"path":"https://ropengov.github.io/helsinki/articles/helsinki_tutorial.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Helsinki open data R tools","text":"Release version users: Development version developers interested parties: Load package.","code":"install.packages(\"helsinki\") library(remotes) remotes::install_github(\"ropengov/helsinki\") library(helsinki)"},{"path":"https://ropengov.github.io/helsinki/articles/helsinki_tutorial.html","id":"api-access","dir":"Articles","previous_headings":"","what":"API Access","title":"Helsinki open data R tools","text":"package basic functions interacting WFS APIs, courtesy FMI2-package: wfs_api() returning “wfs_api” to_sf() turning objects sf-objects. available features given API can easily listed get_feature_list() function. Partly due legacy considerations, partly due user convenience often use HSY API url function examples, sometimes even default option. API functions can, however, used wide variety different base.url parameters. wanted feature Name (words: Namespace:Title combination) known, can downloaded get_feature() providing correct base.url Name typename parameter.  Dots blank canvas make much sense therefore helsinki-package get_city_map() function downloading city district boundaries. example provided Helsinki region district maps section vignette. Helsinki-package provides easy--use menu-driven select_feature() function effectively combines get_feature_list() get_feature(). default returns Name wanted function, get parameter set TRUE, returns sf_object can easily visualized.","code":"url <- \"https://kartta.hsy.fi/geoserver/wfs\"  hsy_features <- get_feature_list(base.url = url) # Select only features which are related to water utilities and services hsy_vesihuolto <- hsy_features[which(hsy_features$Namespace == \"vesihuolto\"),] hsy_vesihuolto #>                                                             Name #> 73                                  vesihuolto:VH_Vesipostit_HSY #> 74           vesihuolto:VH_muut_vesihuollon_toiminta_alueet_2020 #> 75                              vesihuolto:VH_toiminta_alue_2020 #> 76  vesihuolto:VH_toiminta_alue_2020_alustava_laajeneminen_21_22 #> 77               vesihuolto:VH_toiminta_alueen_laajeneminen_2020 #> 78      vesihuolto:VH_vesihuollon_toiminta_alue_vedenjakelu_2020 #> 85                       vesihuolto:Vh_HSY_toiminta_al_2017_2019 #> 86               vesihuolto:Vh_Muu_vesihuo_toiminta_al_2017_2019 #> 87                  vesihuolto:Vh_Vedenjak_toiminta_al_2017_2019 #> 204                          vesihuolto:vesihuollon_toimipisteet #> 206                        vesihuolto:vh_hulevesiviemaroity_alue #> 207                            vesihuolto:vh_hva_laajennusalueet #> 208               vesihuolto:vh_jatevesi_matkaaika_puhdistamolle #> 209                            vesihuolto:vh_sekaviemarointialue #> 216                        vesihuolto:ylimaarainen_verkostopaine #>                                                 Title  Namespace #> 73                                  VH_Vesipostit_HSY vesihuolto #> 74           VH_muut_vesihuollon_toiminta_alueet_2020 vesihuolto #> 75                              VH_toiminta_alue_2020 vesihuolto #> 76  VH_toiminta_alue_2020_alustava_laajeneminen_21_22 vesihuolto #> 77               VH_toiminta_alueen_laajeneminen_2020 vesihuolto #> 78      VH_vesihuollon_toiminta_alue_vedenjakelu_2020 vesihuolto #> 85                       Vh_HSY_toiminta_al_2017_2019 vesihuolto #> 86               Vh_Muu_vesihuo_toiminta_al_2017_2019 vesihuolto #> 87                  Vh_Vedenjak_toiminta_al_2017_2019 vesihuolto #> 204                          vesihuollon_toimipisteet vesihuolto #> 206                        vh_hulevesiviemaroity_alue vesihuolto #> 207                            vh_hva_laajennusalueet vesihuolto #> 208               vh_jatevesi_matkaaika_puhdistamolle vesihuolto #> 209                            vh_sekaviemarointialue vesihuolto #> 216                        ylimaarainen_verkostopaine vesihuolto # We select our feature of interest from this list: Location of waterposts feature_of_interest <- \"vesihuolto:VH_Vesipostit_HSY\" # downloading a feature waterposts <- get_feature(base.url = url, typename = feature_of_interest) # Visualizing the location of waterposts plot(waterposts$geom) # Interactive example with select_feature selected_feature <- select_feature(base.url = url) feature <- get_feature(base.url = url, typename = selected_feature)  # Skipping a redundant step with parameter get = TRUE feature <- select_feature(base.url = url, get = TRUE)"},{"path":"https://ropengov.github.io/helsinki/articles/helsinki_tutorial.html","id":"helsinki-region-environmental-services-hsy-open-data","dir":"Articles","previous_headings":"API Access","what":"Helsinki Region Environmental Services HSY open data","title":"Helsinki open data R tools","text":"example shows general use case can easily applied Helsinki Region Environmental Services (HSY) WFS API well service providers’ APIs. legacy reasons, helsinki-package also specialized functions aim make downloading often used data easy possible. Specifically, two new functions replace deprecated functionalities get_hsy() function: get_vaestotietoruudukko() (population grid) get_rakennustietoruudukko() (building information grid). writing, years 2015 2020 supported API may updated time get_feature_list() can used download datasets baked functions.   easy enough build, specialized functions probably something power users want rely work flows. also add manual phases package maintenance therefore probably direction ’re heading future. feel differently dataset gets lot use, feel free drop us suggestion GitHub.","code":"pop_grid <- get_vaestotietoruudukko(year = 2018) building_grid <- get_rakennustietoruudukko(year = 2020)  library(ggplot2)  # Logarithmic scales to make the visualizations more discernible ggplot(pop_grid) + geom_sf(aes(colour=log(asukkaita), fill=log(asukkaita))) ggplot(building_grid) + geom_sf(aes(colour=log(kerala_yht), fill=log(kerala_yht)))"},{"path":"https://ropengov.github.io/helsinki/articles/helsinki_tutorial.html","id":"service-and-event-information","dir":"Articles","previous_headings":"","what":"Service and event information","title":"Helsinki open data R tools","text":"Function get_servicemap() retrieves regional service data city Helsinki Service Map API, contains data Service Map. can see search returns large number results, 2000. results returned pages, page 20 results default. giving additional search parameters, get 20 results first page search results. results retrieved viewed giving additional search parameters. see example, returned data frame 47 observations. full width output can messy handle R console. One possible option turn easily manageable tibble (often bad idea), another limit extent query start. latter can done function parameter : function parameter straightforward filtering subsetting columns data.frame / tibble, requires valid type prefix beginning, case “unit”. valid input case “service_node”, “service” “address”, testing unit-prefix seemed work best. doubt, checking original documentation may help. Function get_linkedevents() retrieves regional event data new Linked Events API.","code":"# Search for \"puisto\" (park) (specify q=\"query\") search_puisto <- get_servicemap(query=\"search\", q=\"puisto\") # Study results: 47 variables in the data frame str(search_puisto, max.level = 1) #> List of 4 #>  $ count   : int 2149 #>  $ next    : chr \"https://api.hel.fi/servicemap/v2/search/?page=2&q=puisto\" #>  $ previous: NULL #>  $ results :'data.frame':    20 obs. of  47 variables: # Get names for the first 20 results search_puisto$results$name$fi #>  [1] \"Sinebrychoffin puiston yleisövessa\"                                 #>  [2] \"Sibeliuksen puiston yleisövessa\"                                    #>  [3] \"Töölönlahden puisto / Leikkipaikka\"                                 #>  [4] \"Esplanadin puiston WLAN-tukiasema\"                                  #>  [5] \"Hesperian puiston yleisövessa\"                                      #>  [6] \"Topeliuksen puiston yleisövessa\"                                    #>  [7] \"Ankkuripohjanpuisto\"                                                #>  [8] \"Sibeliuksen puiston yleisövessa\"                                    #>  [9] \"Pysäköintilippuautomaatti 334, Castreninkatu, puisto, korttimaksu\"  #> [10] \"Pysäköintilippuautomaatti 132, Merimiehenkatu, puisto, korttimaksu\" #> [11] \"Pysäköintilippuautomaatti 88, Pengerkatu, puisto, kolikkomaksu\"     #> [12] \"Shakkilauta, Von Glanin puisto\"                                     #> [13] \"Matti Heleniuksen puiston yleisövessa\"                              #> [14] \"Shakkilauta, Katri Valan puisto\"                                    #> [15] \"Tove Janssonin puiston yleisövessa\"                                 #> [16] \"Ala-Malmin puisto\"                                                  #> [17] \"Pyhän Birgitan puisto\"                                              #> [18] \"Everstinpuisto\"                                                     #> [19] \"Kirkkojärvenpuisto\"                                                 #> [20] \"Lehtikaskenpuisto\"  # See what kind of data is given for services names(search_puisto$results) #>  [1] \"id\"                              \"connections\"                     #>  [3] \"entrances\"                       \"accessibility_properties\"        #>  [5] \"identifiers\"                     \"department\"                      #>  [7] \"root_department\"                 \"provider_type\"                   #>  [9] \"organizer_type\"                  \"contract_type\"                   #> [11] \"is_active\"                       \"deleted_at\"                      #> [13] \"organizer_name\"                  \"organizer_business_id\"           #> [15] \"picture_url\"                     \"picture_entrance_url\"            #> [17] \"streetview_entrance_url\"         \"description\"                     #> [19] \"short_description\"               \"name\"                            #> [21] \"street_address\"                  \"www\"                             #> [23] \"address_postal_full\"             \"call_charge_info\"                #> [25] \"picture_caption\"                 \"phone\"                           #> [27] \"fax\"                             \"email\"                           #> [29] \"accessibility_phone\"             \"accessibility_email\"             #> [31] \"accessibility_www\"               \"created_time\"                    #> [33] \"address_zip\"                     \"data_source\"                     #> [35] \"extensions\"                      \"last_modified_time\"              #> [37] \"accessibility_viewpoints\"        \"root_service_nodes\"              #> [39] \"municipality\"                    \"service_nodes\"                   #> [41] \"services\"                        \"keywords\"                        #> [43] \"location\"                        \"accessibility_shortcoming_count\" #> [45] \"sort_index\"                      \"object_type\"                     #> [47] \"score\" search_puisto <- get_servicemap(query=\"search\", q=\"puisto\", page_size = 30, page = 2) search_puisto$results$name$fi #>  [1] \"Kaupungintalon puisto\"                              #>  [2] \"Kuttulammenpuisto\"                                  #>  [3] \"Rinkelipuisto\"                                      #>  [4] \"Olarin asukaspuisto\"                                #>  [5] \"Alli Tryggin puiston opaskoira-aitaus\"              #>  [6] \"Hurtigin puisto\"                                    #>  [7] \"Matinkylän asukaspuisto\"                            #>  [8] \"Nurmilinnunpuisto\"                                  #>  [9] \"Ruusutorpanpuisto\"                                  #> [10] \"Tynnyripuisto\"                                      #> [11] \"Perkkaan asukaspuisto\"                              #> [12] \"Asematien leikkipuisto\"                             #> [13] \"Stenbergin puisto\"                                  #> [14] \"Viherkallion asukaspuisto\"                          #> [15] \"Leppävaaran asukaspuisto\"                           #> [16] \"Veijarivuoren puiston talviuintipaikka (Humaus ry)\" #> [17] \"Suvelan asukaspuisto\"                               #> [18] \"Kasavuoren puisto\"                                  #> [19] \"Karakallion asukaspuisto\"                           #> [20] \"Marketanpuisto\"                                     #> [21] \"Kylätalo Palttinan asukaspuisto\"                    #> [22] \"Mankkaan asukaspuisto\"                              #> [23] \"Tapiolan asukaspuisto\"                              #> [24] \"Pohjankulman puisto\"                                #> [25] \"Suvelan puisto\"                                     #> [26] \"Alberganesplanadin puisto\"                          #> [27] \"Parkvillanpihan puisto\"                             #> [28] \"Träskändan kartanopuisto\"                           #> [29] \"Laivatorin puisto\"                                  #> [30] \"Rantaraitin puisto\" # Search for padel-related services in Helsinki search_padel <- get_servicemap(query=\"search\", input=\"padel\", only=\"unit.name, unit.location.coordinates, unit.street_address\", municipality=\"helsinki\") search_padel$results #>       id                                    name.fi #> 1  59998               Padel Helsinki / Padelkentät #> 2  63925            Padel Messukeskus / Padelkentät #> 3  64716           Padel Aurinkolahti / Padelkenttä #> 4  45413         PadelCenter Helsinki / Padelkentät #> 5  57222       Padel Club Viikinranta / Padelkenttä #> 6  63927 Padel Arena Center Myllypuro / Padelkentät #> 7  66781     Padel Messukeskus / Padelkentät (ulko) #> 8  57221           ProPADEL Sörnäinen / Padelkenttä #> 9  63926             Billebeino Padel / Padelkenttä #> 10 62776                    Talihalli / Padelkenttä #> 11 64747       Urheiluhallit Vuosaari / Padelkentät #> 12 42296                 Smash Center / Padelkenttä #> 13 62904 Laajasalon Palloiluhallit Oy / Padelkenttä #>                                       name.sv           street_address.fi #> 1                Padel Helsinki / Padelplaner           Lahnalahdentie 11 #> 2             Padel Mässcentrum / Padelplaner                Messuaukio 1 #> 3              Padel Aurinkolahti / Padelplan     Urheilukalastajankuja 1 #> 4       PadelCenter Helsingfors / Padelplaner          Hernesaarenranta 1 #> 5          Padel Club Viikinranta / Padelplan               Jokisuuntie 5 #> 6  Padel Arena Center Myllypuro / Padelplaner               Alakiventie 2 #> 7             Padel Mässcentrum / Padelplaner                Messuaukio 1 #> 8                 ProPADEL Sörnäs / Padelplan Sörnäisten rantapromenadi 1 #> 9                Billebeino Padel / Padelplan             Traverssikuja 3 #> 10                      Talihalli / Padelplan           Huopalahdentie 28 #> 11       Urheiluhallit Vuosaari / Padelplaner              Vuosaarentie 5 #> 12                   Smash Center / Padelplan                Varikkotie 4 #> 13   Laajasalon Palloiluhallit Oy / Padelplan           Sarvastonkaari 23 #>          street_address.sv           street_address.en location.type #> 1         Braxviksvägen 11           Lahnalahdentie 11         Point #> 2            Mässplatsen 1                Messuaukio 1         Point #> 3     Sportfiskargränden 1     Urheilukalastajankuja 1         Point #> 4       Ärtholmsstranden 1          Hernesaarenranta 1         Point #> 5            Åminnevägen 5               Jokisuuntie 5         Point #> 6        Understensvägen 2               Alakiventie 2         Point #> 7            Mässplatsen 1                Messuaukio 1         Point #> 8  Sörnäs strandpromenad 1 Sörnäisten rantapromenadi 1         Point #> 9         Traversgränden 3             Traverssikuja 3         Point #> 10         Hoplaksvägen 28           Huopalahdentie 28         Point #> 11          Nordsjövägen 5              Vuosaarentie 5         Point #> 12             Depåvägen 4                Varikkotie 4         Point #> 13           Fladabågen 23           Sarvastonkaari 23         Point #>    location.coordinates sort_index object_type    score #> 1    24.86652, 60.16435          0        unit 7.415902 #> 2    24.93602, 60.20486          1        unit 7.415902 #> 3    25.15954, 60.20301          2        unit 7.312412 #> 4    24.93146, 60.15325          3        unit 7.312412 #> 5    24.98746, 60.21826          4        unit 6.800139 #> 6    25.07979, 60.22095          5        unit 6.536219 #> 7    24.93741, 60.20461          6        unit 6.536219 #> 8    24.96320, 60.18242          7        unit 2.782457 #> 9    24.94567, 60.19430          8        unit 2.765517 #> 10   24.87776, 60.21116          9        unit 2.765517 #> 11   25.14068, 60.20865         10        unit 2.277936 #> 12   25.06807, 60.20983         11        unit 2.268555 #> 13   25.05760, 60.17416         12        unit 2.254500 # Search for current events events <- get_linkedevents(query=\"event\") # Get names for the first 20 results events$data$name$fi #>  [1] \"Caisa 25-vuotisjuhla! – Kulttuurikeskus Caisa täyttää 25 vuotta!\"                                       #>  [2] \"Suistamon Sähkö – A la Malmi\"                                                                           #>  [3] \"TEATR LALEK PLECIUGA: Tuutulauluja pohjoisesta – Kołysanki Północy – SAMPO festivaali\"                  #>  [4] \"Tuolijumppa – Aamujumppa Vuotalon aulassa\"                                                              #>  [5] \"Acting for Climate: BARK – Metsäsirkusesitykset koululaisille\"                                          #>  [6] \"Teatteri Mukamas: Hiirulainen ja suuri seikkailu – SAMPO festivaali\"                                    #>  [7] \"Teatteri Mukamas: Hiirulainen ja suuri seikkailu – SAMPO festivaali\"                                    #>  [8] \"SIIRRETTY | Let It Be 50v -juhlakonsertti – Jiri Nikkinen The Beatles Tribute Band\"                     #>  [9] \"Säädyttömiä kuvia tulvillaan olevien ruumiiden yllä – Veera Kopsalan opinnäytetyö\"                      #> [10] \"PERUTTU | Acting for Climate: BARK – Metsäsirkusesitykset perheille\"                                    #> [11] \"Erdinç – Elokuun iltasoitot Vuotorilla\"                                                                 #> [12] \"Itämeren ihmeelliset eliöt -työpaja – Kalliolla-näyttely\"                                               #> [13] \"Kesämuskari\"                                                                                            #> [14] \"Tila toiseen – Päivi Raivio ja Vuosaaren lukion oppilaat\"                                               #> [15] \"Caisa 25 vuotta! – BAKTEERI | Compañía Kaari & Roni Martin\"                                             #> [16] \"Keppiolentoja – Taideneuvola\"                                                                           #> [17] \"Acting for Climate: BARK – Metsäsirkusesitykset koululaisille\"                                          #> [18] \"Pauli Kallio & Juliana Hyrri: Kalle, Kaneli, pallo ja sello – Helsingin sarjakuvafestivaalien näyttely\" #> [19] \"Helsinki puhuu – Espan lava\"                                                                            #> [20] \"Säädyttömiä kuvia tulvillaan olevien ruumiiden yllä ENSI-ILTA – Veera Kopsalan opinnäytetyö\" # See what kind of data is given for events names(events$data) #>  [1] \"id\"                          \"location\"                    #>  [3] \"keywords\"                    \"super_event\"                 #>  [5] \"event_status\"                \"type_id\"                     #>  [7] \"external_links\"              \"offers\"                      #>  [9] \"data_source\"                 \"publisher\"                   #> [11] \"sub_events\"                  \"images\"                      #> [13] \"videos\"                      \"in_language\"                 #> [15] \"audience\"                    \"created_time\"                #> [17] \"last_modified_time\"          \"date_published\"              #> [19] \"start_time\"                  \"end_time\"                    #> [21] \"custom_data\"                 \"audience_min_age\"            #> [23] \"audience_max_age\"            \"super_event_type\"            #> [25] \"deleted\"                     \"maximum_attendee_capacity\"   #> [27] \"remaining_attendee_capacity\" \"minimum_attendee_capacity\"   #> [29] \"enrolment_start_time\"        \"enrolment_end_time\"          #> [31] \"local\"                       \"search_vector_fi\"            #> [33] \"search_vector_en\"            \"search_vector_sv\"            #> [35] \"kulke_new\"                   \"replaced_by\"                 #> [37] \"location_extra_info\"         \"name\"                        #> [39] \"info_url\"                    \"short_description\"           #> [41] \"description\"                 \"provider\"                    #> [43] \"provider_contact_info\"       \"@id\"                         #> [45] \"@context\"                    \"@type\""},{"path":"https://ropengov.github.io/helsinki/articles/helsinki_tutorial.html","id":"helsinki-region-district-maps","dir":"Articles","previous_headings":"","what":"Helsinki region district maps","title":"Helsinki open data R tools","text":"Helsinki region geographic data can accessed WFS API using get_city_map() function. Data available 4 cities capital region: Helsinki, Espoo, Vantaa Kauniainen. Administrative divisions can accessed 3 distinct levels: “suuralue”, “tilastoalue” “pienalue”. Literal, completely unofficial translations “grand district”, “statistical area” “(minor) district”. naming convention levels sometimes confusing even Finnish documents different names can vary city time. main takeaway “suuralue” highest-level division “pienalue” granular level division. “Tilastoalue” somewhere two. names used even city interest might use Finnish English website. promised earlier API Access, following example gives idea visualize waterpost locations (, course, types spatial data well) capital region map.  addition, possible download “aanestysalue” (voting district) divisions city Helsinki. Currently data available cities must accessed sources. cities Helsinki voting districts currently available.","code":"helsinki <- get_city_map(city = \"helsinki\", level = \"suuralue\") espoo <- get_city_map(city = \"espoo\", level = \"suuralue\") vantaa <- get_city_map(city = \"vantaa\", level = \"suuralue\") kauniainen <- get_city_map(city = \"kauniainen\", level = \"suuralue\")  library(ggplot2)  ggplot() +   geom_sf(data = helsinki) +   geom_sf(data = espoo) +   geom_sf(data = vantaa) +   geom_sf(data = kauniainen) +   geom_sf(data = waterposts) library(sf) map <- get_city_map(city = \"helsinki\", level = \"suuralue\") plot(sf::st_geometry(map))  voting_district <- get_city_map(city = \"helsinki\", level = \"aanestysalue\") plot(sf::st_geometry(voting_district))"},{"path":"https://ropengov.github.io/helsinki/articles/helsinki_tutorial.html","id":"helsinki-region-infoshare-statistics-api","dir":"Articles","previous_headings":"","what":"Helsinki Region Infoshare statistics API","title":"Helsinki open data R tools","text":"Function get_hri_stats() retrieves data Helsinki Region Infoshare statistics API. Specify dataset retrieve. specific example download first item stats_list object. output three-dimensional array.","code":"# Retrieve list of available data stats_list <- get_hri_stats(query=\"\") # Show first results head(stats_list) #>                                      NULL  #>             \"L113_viheralue_kaupunginosa\"  #>                                      NULL  #>                      \"L32_yksikkopaastot\"  #>                                      NULL  #>                   \"J1_loppusijoitettavat\"  #>                                      NULL  #>                    \"I13_maailman_paastot\"  #>                                      NULL  #>       \"J13_sekajatteen_maara_kiinteistot\"  #>  Helsingin väestö äidinkielen mukaan 1.1.  #> \"aluesarjat_a03s_hki_vakiluku_aidinkieli\" # Retrieve a specific dataset stats_res <- get_hri_stats(query=stats_list[1]) # Show the structure of the results str(stats_res) #>  num [1:6, 1:34] 11606 5607 2.07 0.65 0.15 ... #>  - attr(*, \"dimnames\")=List of 2 #>   ..$ muuttuja  : chr [1:6] \"Asukkaita\" \"Asukastiheys (hlö/km2)\" \"Maapinta-ala (km2)\" \"Viheralueiden pinta-ala (km2)\" ... #>   ..$ peruspiiri: chr [1:34] \"Vironniemi\" \"Ullanlinna\" \"Kampinmalmi\" \"Taka-Töölö\" ..."},{"path":[]},{"path":"https://ropengov.github.io/helsinki/articles/helsinki_tutorial.html","id":"citing-the-data","dir":"Articles","previous_headings":"Licensing and Citations","what":"Citing the data","title":"Helsinki open data R tools","text":"See help() get citation information function related data sources. information explicitly stated, see data provider’s website information.","code":""},{"path":"https://ropengov.github.io/helsinki/articles/helsinki_tutorial.html","id":"citing-the-r-package","dir":"Articles","previous_headings":"Licensing and Citations","what":"Citing the R package","title":"Helsinki open data R tools","text":"","code":"citation(\"helsinki\")  Kindly cite the helsinki R package as follows:    (C) Juuso Parkkinen, Joona Lehtomaki, Pyry Kantanen and Leo Lahti   2014-2021. helsinki R package  A BibTeX entry for LaTeX users is    @Misc{,     title = {helsinki R package},     author = {Juuso Parkkinen and Joona Lehtomaki and Pyry Kantanen and Leo Lahti},     year = {2014-2021},   }  Many thanks for all contributors! For more info, see: https://github.com/rOpenGov/helsinki"},{"path":"https://ropengov.github.io/helsinki/articles/helsinki_tutorial.html","id":"session-info","dir":"Articles","previous_headings":"Licensing and Citations","what":"Session info","title":"Helsinki open data R tools","text":"vignette created ","code":"sessionInfo() #> R version 4.1.1 (2021-08-10) #> Platform: x86_64-pc-linux-gnu (64-bit) #> Running under: Ubuntu 20.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0 #> LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0 #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] ggplot2_3.3.5  helsinki_1.0.5 #>  #> loaded via a namespace (and not attached): #>  [1] tidyselect_1.1.1   xfun_0.26          bslib_0.3.0        purrr_0.3.4        #>  [5] sf_1.0-2           colorspace_2.0-2   vctrs_0.3.8        generics_0.1.0     #>  [9] htmltools_0.5.2    yaml_2.2.1         utf8_1.2.2         rlang_0.4.11       #> [13] e1071_1.7-9        pkgdown_1.6.1.9001 jquerylib_0.1.4    pillar_1.6.3       #> [17] withr_2.4.2        glue_1.4.2         DBI_1.1.1          lifecycle_1.0.1    #> [21] stringr_1.4.0      munsell_0.5.0      gtable_0.3.0       ragg_1.1.3         #> [25] memoise_2.0.0      evaluate_0.14      labeling_0.4.2     knitr_1.36         #> [29] fastmap_1.1.0      curl_4.3.2         class_7.3-19       fansi_0.5.0        #> [33] highr_0.9          Rcpp_1.0.7         KernSmooth_2.23-20 scales_1.1.1       #> [37] classInt_0.4-3     cachem_1.0.6       desc_1.4.0         jsonlite_1.7.2     #> [41] farver_2.1.0       systemfonts_1.0.2  fs_1.5.0           textshaping_0.3.5  #> [45] digest_0.6.28      stringi_1.7.4      dplyr_1.0.7        rprojroot_2.0.2    #> [49] grid_4.1.1         tools_4.1.1        magrittr_2.0.1     sass_0.4.0         #> [53] proxy_0.4-26       tibble_3.1.4       crayon_1.4.1       httpcache_1.2.0    #> [57] pkgconfig_2.0.3    ellipsis_0.3.2     xml2_1.3.2         rmarkdown_2.11     #> [61] httr_1.4.2         R6_2.5.1           units_0.7-2        compiler_4.1.1"},{"path":"https://ropengov.github.io/helsinki/index.html","id":"helsinki---helsinki-open-data-r-tools","dir":"","previous_headings":"","what":"R Tools for Helsinki Open Data","title":"R Tools for Helsinki Open Data","text":"R tools access download open data City Helsinki Helsinki metropolitan area (Finnish capital region).","code":""},{"path":"https://ropengov.github.io/helsinki/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"R Tools for Helsinki Open Data","text":"","code":"# Stable release install.packages(\"helsinki\") # Development version library(remotes) remotes::install_github(\"ropengov/helsinki\")"},{"path":"https://ropengov.github.io/helsinki/index.html","id":"using-the-package","dir":"","previous_headings":"","what":"Using the package","title":"R Tools for Helsinki Open Data","text":"simple example load package, list available features Helsinki Region Environmental Services HSY WFS API, download 15th feature list: examples, check tutorial page.","code":"library(helsinki)  url <- \"https://kartta.hsy.fi/geoserver/wfs\"  hsy_features <- get_feature_list(base.url = url)  get_feature(base.url = url, typename = hsy_features$Name[15])"},{"path":"https://ropengov.github.io/helsinki/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"R Tools for Helsinki Open Data","text":"welcome contact us: Submit suggestions bug reports (provide output sessionInfo() packageVersion(\"helsinki\") preferably provide reproducible example) Send pull request Star us Github page See website additional contact information","code":""},{"path":"https://ropengov.github.io/helsinki/index.html","id":"acknowledgements","dir":"","previous_headings":"","what":"Acknowledgements","title":"R Tools for Helsinki Open Data","text":"Kindly cite work follows: Juuso Parkkinen, Joona Lehtomäki, Pyry Kantanen, Leo Lahti. helsinki - Helsinki open data R tools. URL: http://ropengov.github.io/helsinki/ grateful contributors! project part rOpenGov.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_city_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Get city administrative regions — get_city_map","title":"Get city administrative regions — get_city_map","text":"Sf object city districts","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_city_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get city administrative regions — get_city_map","text":"","code":"get_city_map(city = NULL, level = NULL)"},{"path":"https://ropengov.github.io/helsinki/reference/get_city_map.html","id":"pkg-arg-city","dir":"Reference","previous_headings":"","what":"city (argument)","title":"Get city administrative regions — get_city_map","text":"city desired city. Options: Helsinki, Espoo, Vantaa, Kauniainen","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_city_map.html","id":"pkg-arg-level","dir":"Reference","previous_headings":"","what":"level (argument)","title":"Get city administrative regions — get_city_map","text":"level desired administrative level. Options : \"suurpiiri\",  \"tilastoalue\", \"pienalue\" \"aanestysalue\"","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_city_map.html","id":"section-source","dir":"Reference","previous_headings":"","what":"Source","title":"Get city administrative regions — get_city_map","text":"Metropolitan area districts: <https://hri.fi/data/fi/dataset/paakaupunkiseudun-aluejakokartat>","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_city_map.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Get city administrative regions — get_city_map","text":"sf object","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_city_map.html","id":"section-details","dir":"Reference","previous_headings":"","what":"Details","title":"Get city administrative regions — get_city_map","text":"See list_features() list available features","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_city_map.html","id":"section-author","dir":"Reference","previous_headings":"","what":"Author","title":"Get city administrative regions — get_city_map","text":"Pyry Kantanen <pyry.kantanen@gmail.com>","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_feature.html","id":null,"dir":"Reference","previous_headings":"","what":"Produce an SF object — get_feature","title":"Produce an SF object — get_feature","text":"Produces sf object easy visualization","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_feature.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Produce an SF object — get_feature","text":"","code":"get_feature(   base.url = \"https://kartta.hsy.fi/geoserver/wfs\",   typename = \"asuminen_ja_maankaytto:Vaestotietoruudukko_2015\",   CRS = 3879 )"},{"path":"https://ropengov.github.io/helsinki/reference/get_feature.html","id":"pkg-arg-base.url","dir":"Reference","previous_headings":"","what":"base.url (argument)","title":"Produce an SF object — get_feature","text":"base.url WFS url, example \"https://kartta.hsy.fi/geoserver/wfs\"","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_feature.html","id":"pkg-arg-typename","dir":"Reference","previous_headings":"","what":"typename (argument)","title":"Produce an SF object — get_feature","text":"typename accepts feature names, e.g. \"asuminen_ja_maankaytto:1000m_verkostobufferi\" short form titles , e.g. \"1000m_verkostobufferi\"!","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_feature.html","id":"pkg-arg-CRS","dir":"Reference","previous_headings":"","what":"CRS (argument)","title":"Produce an SF object — get_feature","text":"CRS Default CRS 3879 (EPSG:3879), see ?sf::st_crs input options","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_feature.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Produce an SF object — get_feature","text":"sf object","code":""},{"path":[]},{"path":"https://ropengov.github.io/helsinki/reference/get_feature.html","id":"section-author","dir":"Reference","previous_headings":"","what":"Author","title":"Produce an SF object — get_feature","text":"Pyry Kantanen <pyry.kantanen@gmail.com>","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_feature_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Print all available Features — get_feature_list","title":"Print all available Features — get_feature_list","text":"Basically neat wrapper \"request=GetCapabilities\".","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_feature_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print all available Features — get_feature_list","text":"","code":"get_feature_list(base.url = NULL, queries = \"request=GetCapabilities\")"},{"path":"https://ropengov.github.io/helsinki/reference/get_feature_list.html","id":"pkg-arg-base.url","dir":"Reference","previous_headings":"","what":"base.url (argument)","title":"Print all available Features — get_feature_list","text":"base.url WFS url, example \"https://kartta.hsy.fi/geoserver/wfs\"","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_feature_list.html","id":"pkg-arg-queries","dir":"Reference","previous_headings":"","what":"queries (argument)","title":"Print all available Features — get_feature_list","text":"queries desired query acquiring list features, default  \"request=GetCapabilities\"","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_feature_list.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Print all available Features — get_feature_list","text":"data frame","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_feature_list.html","id":"section-details","dir":"Reference","previous_headings":"","what":"Details","title":"Print all available Features — get_feature_list","text":"Lists <FeatureType> nodes.","code":""},{"path":[]},{"path":"https://ropengov.github.io/helsinki/reference/get_feature_list.html","id":"section-author","dir":"Reference","previous_headings":"","what":"Author","title":"Print all available Features — get_feature_list","text":"Pyry Kantanen <pyry.kantanen@gmail.com>","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_hri_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Helsinki Region Infoshare statistics API — get_hri_stats","title":"Helsinki Region Infoshare statistics API — get_hri_stats","text":"Retrieves data Helsinki Region Infoshare (HRI) statistics API: http://dev.hel.fi/stats/. Currently provides access 'aluesarja't data: http://www.aluesarjat.fi/.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_hri_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helsinki Region Infoshare statistics API — get_hri_stats","text":"","code":"get_hri_stats(query = \"\", verbose = TRUE)"},{"path":"https://ropengov.github.io/helsinki/reference/get_hri_stats.html","id":"pkg-arg-query","dir":"Reference","previous_headings":"","what":"query (argument)","title":"Helsinki Region Infoshare statistics API — get_hri_stats","text":"query string, specifying dataset query","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_hri_stats.html","id":"pkg-arg-verbose","dir":"Reference","previous_headings":"","what":"verbose (argument)","title":"Helsinki Region Infoshare statistics API — get_hri_stats","text":"verbose logical. R report extra information progress? Default TRUE","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_hri_stats.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Helsinki Region Infoshare statistics API — get_hri_stats","text":"multi-dimensional array","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_hri_stats.html","id":"section-details","dir":"Reference","previous_headings":"","what":"Details","title":"Helsinki Region Infoshare statistics API — get_hri_stats","text":"Current implementation simple. can either get list resources query=\"\", query specific resources retrieve three-dimensional array form.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_hri_stats.html","id":"section-references","dir":"Reference","previous_headings":"","what":"References","title":"Helsinki Region Infoshare statistics API — get_hri_stats","text":"See citation(\"helsinki\")","code":""},{"path":[]},{"path":"https://ropengov.github.io/helsinki/reference/get_hri_stats.html","id":"section-author","dir":"Reference","previous_headings":"","what":"Author","title":"Helsinki Region Infoshare statistics API — get_hri_stats","text":"Juuso Parkkinen louhos@googlegroups.com","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_hsy-deprecated.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve data from Helsinki Region Environmental Services. — get_hsy-deprecated","title":"Retrieve data from Helsinki Region Environmental Services. — get_hsy-deprecated","text":"Retrieves data Helsinki Region Environmental Services Authority.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_hsy-deprecated.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve data from Helsinki Region Environmental Services. — get_hsy-deprecated","text":"","code":"get_hsy(which.data, which.year, data.dir, verbose)"},{"path":"https://ropengov.github.io/helsinki/reference/get_hsy-deprecated.html","id":"pkg-arg-which.data","dir":"Reference","previous_headings":"","what":"which.data (argument)","title":"Retrieve data from Helsinki Region Environmental Services. — get_hsy-deprecated","text":".data string. Specify name retrieved HSY data set. Options: Vaestotietoruudukko; Rakennustietoruudukko; SeutuRAMAVA_kosa; SeutuRAMAVA_tila. documented HSY data description document (see ).","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_hsy-deprecated.html","id":"pkg-arg-which.year","dir":"Reference","previous_headings":"","what":"which.year (argument)","title":"Retrieve data from Helsinki Region Environmental Services. — get_hsy-deprecated","text":".year integer. Specify year data retrieved.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_hsy-deprecated.html","id":"pkg-arg-data.dir","dir":"Reference","previous_headings":"","what":"data.dir (argument)","title":"Retrieve data from Helsinki Region Environmental Services. — get_hsy-deprecated","text":"data.dir string. Specify temporary folder storing downloaded data.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_hsy-deprecated.html","id":"pkg-arg-verbose","dir":"Reference","previous_headings":"","what":"verbose (argument)","title":"Retrieve data from Helsinki Region Environmental Services. — get_hsy-deprecated","text":"verbose logical. R report extra information progress?","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_hsy-deprecated.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve data from Helsinki Region Environmental Services. — get_hsy-deprecated","text":"Shape object (SpatialPolygonsDataFrame class)","code":""},{"path":[]},{"path":"https://ropengov.github.io/helsinki/reference/get_linkedevents.html","id":null,"dir":"Reference","previous_headings":"","what":"Access Helsinki Linked Events API — get_linkedevents","title":"Access Helsinki Linked Events API — get_linkedevents","text":"Easy access Helsinki Linked Events API","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_linkedevents.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access Helsinki Linked Events API — get_linkedevents","text":"","code":"get_linkedevents(query, ...)"},{"path":"https://ropengov.github.io/helsinki/reference/get_linkedevents.html","id":"pkg-arg-query","dir":"Reference","previous_headings":"","what":"query (argument)","title":"Access Helsinki Linked Events API — get_linkedevents","text":"query API query string, example \"event\", \"category\", \"language\", \"place\" \"keyword\".","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_linkedevents.html","id":"pkg-arg-...","dir":"Reference","previous_headings":"","what":"... (argument)","title":"Access Helsinki Linked Events API — get_linkedevents","text":"... Additional parameters narrow output (optional).","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_linkedevents.html","id":"section-source","dir":"Reference","previous_headings":"","what":"Source","title":"Access Helsinki Linked Events API — get_linkedevents","text":"Helsinki Linked Events API v1. Developed City Helsinki  Open Software Development team. Event data Helsinki Marketing, Helsinki  Cultural Centres, Helmet metropolitan area public libraries City  Helsinki registry service unit.  CC 4.0. <https://creativecommons.org/licenses//4.0/> API documentation license information see API link: http://api.hel.fi/linkedevents/v1/","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_linkedevents.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Access Helsinki Linked Events API — get_linkedevents","text":"Data frame list","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_linkedevents.html","id":"section-details","dir":"Reference","previous_headings":"","what":"Details","title":"Access Helsinki Linked Events API — get_linkedevents","text":"Complete list possible query input: \"keyword\", \"keyword_set\", \"place\", \"language\", \"organization\", \"image\", \"event\", \"search\", \"user\". \"...\" user can pass additional parameters depend chosen query input. example, performing search (query = \"search\"),  search can narrowed parameters : q=\"konsertti\" complete search, returns events word \"konsertti\" input=\"konse\" partial search, returns events words contain \"konse\" type=\"event\" returns \"events\" start=\"2017-01-01\" events starting 2017-01-01 end=\"2017-01-10\" events ending 2017-01-10 detailed explanation, see http://api.hel.fi/linkedevents/v1/.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_linkedevents.html","id":"section-author","dir":"Reference","previous_headings":"","what":"Author","title":"Access Helsinki Linked Events API — get_linkedevents","text":"Juuso Parkkinen louhos@googlegroups.com, Pyry Kantanen","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_rakennustietoruudukko.html","id":null,"dir":"Reference","previous_headings":"","what":"Produce an SF object: Rakennustietoruudukko — get_rakennustietoruudukko","title":"Produce an SF object: Rakennustietoruudukko — get_rakennustietoruudukko","text":"Produces sf object Rakennustietoruudukko (building information grid)","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_rakennustietoruudukko.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Produce an SF object: Rakennustietoruudukko — get_rakennustietoruudukko","text":"","code":"get_rakennustietoruudukko(year = NULL)"},{"path":"https://ropengov.github.io/helsinki/reference/get_rakennustietoruudukko.html","id":"pkg-arg-year","dir":"Reference","previous_headings":"","what":"year (argument)","title":"Produce an SF object: Rakennustietoruudukko — get_rakennustietoruudukko","text":"year year numeric range 2015:2019","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_rakennustietoruudukko.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Produce an SF object: Rakennustietoruudukko — get_rakennustietoruudukko","text":"sf object","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_rakennustietoruudukko.html","id":"section-details","dir":"Reference","previous_headings":"","what":"Details","title":"Produce an SF object: Rakennustietoruudukko — get_rakennustietoruudukko","text":"Additional data available can manually downloaded HRI website: https://hri.fi/data/fi/dataset/rakennustietoruudukko Years 2015-2019 tested work time development.  Additional years may added future older datasets may removed API. current datasets can listed get_feature_list() select_feature().","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_rakennustietoruudukko.html","id":"section-author","dir":"Reference","previous_headings":"","what":"Author","title":"Produce an SF object: Rakennustietoruudukko — get_rakennustietoruudukko","text":"Pyry Kantanen <pyry.kantanen@gmail.com>","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_servicemap.html","id":null,"dir":"Reference","previous_headings":"","what":"Access Helsinki region Service Map API — get_servicemap","title":"Access Helsinki region Service Map API — get_servicemap","text":"Access new Helsinki region Service Map (Paakaupunkiseudun Palvelukartta) https://palvelukartta.hel.fi/fi/ data API: http://api.hel.fi/servicemap/v2/.  API documentation license information see API link.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_servicemap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Access Helsinki region Service Map API — get_servicemap","text":"","code":"get_servicemap(query, ...)"},{"path":"https://ropengov.github.io/helsinki/reference/get_servicemap.html","id":"pkg-arg-query","dir":"Reference","previous_headings":"","what":"query (argument)","title":"Access Helsinki region Service Map API — get_servicemap","text":"query API query string, example \"search\", \"service\", \"unit\". full list available options details, see https://dev.hel.fi/apis/service-map-backend-api/.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_servicemap.html","id":"pkg-arg-...","dir":"Reference","previous_headings":"","what":"... (argument)","title":"Access Helsinki region Service Map API — get_servicemap","text":"... Additional parameters API (optional).  additional details, see https://dev.hel.fi/apis/service-map-backend-api/.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_servicemap.html","id":"section-source","dir":"Reference","previous_headings":"","what":"Source","title":"Access Helsinki region Service Map API — get_servicemap","text":"API contents: content available CC 4.0,  except otherwise stated. City Helsinki logo registered  trademark. Helsinki Grotesk Typeface proprietary typeface licensed  Camelot Typefaces. <https://creativecommons.org/licenses//4.0/> API Location: https://api.hel.fi/servicemap/v2/ API documentation: https://dev.hel.fi/apis/service-map-backend-api/","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_servicemap.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Access Helsinki region Service Map API — get_servicemap","text":"Data frame list","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_servicemap.html","id":"section-details","dir":"Reference","previous_headings":"","what":"Details","title":"Access Helsinki region Service Map API — get_servicemap","text":"Complete list possible query input: \"unit\" unit, service point \"service\" category service provided unit \"organization\" organization providing services \"search\" full text search units, services street addresses \"accessibility\" rule database calculating accessibility scores \"geography\" spatial information, services located \"...\" user can pass additional parameters depend chosen query input. example, performing search (query = \"search\"),  search can narrowed parameters : \"q\" complete search \"input\" partial search \"type\" valid types: service_node, service, unit, address \"language\" two-character ISO-639-1 code: fi, sv, en \"municipality\" comma-separated list municipalities, lower-case, Finnish \"service\" comma-separated list service IDs \"include\" include complete content certain fields comma-separated list field names  valid type prefix \"\" restricts results comma-separated list field names valid type prefix \"page\" request certain page number \"page_size\" determine number entries one page detailed explanation, see https://dev.hel.fi/apis/service-map-backend-api/.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_servicemap.html","id":"section-author","dir":"Reference","previous_headings":"","what":"Author","title":"Access Helsinki region Service Map API — get_servicemap","text":"Juuso Parkkinen louhos@googlegroups.com, Pyry Kantanen","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_vaestotietoruudukko.html","id":null,"dir":"Reference","previous_headings":"","what":"Produce an SF object: Vaestotietoruudukko — get_vaestotietoruudukko","title":"Produce an SF object: Vaestotietoruudukko — get_vaestotietoruudukko","text":"Produces sf object Väestötietoruudukko (population grid)","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_vaestotietoruudukko.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Produce an SF object: Vaestotietoruudukko — get_vaestotietoruudukko","text":"","code":"get_vaestotietoruudukko(year = NULL)"},{"path":"https://ropengov.github.io/helsinki/reference/get_vaestotietoruudukko.html","id":"pkg-arg-year","dir":"Reference","previous_headings":"","what":"year (argument)","title":"Produce an SF object: Vaestotietoruudukko — get_vaestotietoruudukko","text":"year year numeric range 2015:2019","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_vaestotietoruudukko.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Produce an SF object: Vaestotietoruudukko — get_vaestotietoruudukko","text":"sf object","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_vaestotietoruudukko.html","id":"section-details","dir":"Reference","previous_headings":"","what":"Details","title":"Produce an SF object: Vaestotietoruudukko — get_vaestotietoruudukko","text":"Additional data available can manually downloaded HRI website: https://hri.fi/data/fi/dataset/vaestotietoruudukko Years 2015-2019 tested work time development.  Additional years may added future older datasets may removed API. current datasets can listed get_feature_list() select_feature().","code":""},{"path":"https://ropengov.github.io/helsinki/reference/get_vaestotietoruudukko.html","id":"section-author","dir":"Reference","previous_headings":"","what":"Author","title":"Produce an SF object: Vaestotietoruudukko — get_vaestotietoruudukko","text":"Pyry Kantanen <pyry.kantanen@gmail.com>","code":""},{"path":"https://ropengov.github.io/helsinki/reference/helsinki-deprecated.html","id":null,"dir":"Reference","previous_headings":"","what":"Deprecated functions in package helsinki. — get_hsy","title":"Deprecated functions in package helsinki. — get_hsy","text":"functions listed deprecated defunct   near future. possible, alternative functions similar   functionality also mentioned. Help pages deprecated functions   available help(\"<function>-deprecated\").","code":""},{"path":"https://ropengov.github.io/helsinki/reference/helsinki-deprecated.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Deprecated functions in package helsinki. — get_hsy","text":"","code":"get_hsy(   which.data = NULL,   which.year = 2013,   data.dir = tempdir(),   verbose = TRUE )"},{"path":"https://ropengov.github.io/helsinki/reference/helsinki-deprecated.html","id":"section-get-hsy","dir":"Reference","previous_headings":"","what":"get_hsy","title":"Deprecated functions in package helsinki. — get_hsy","text":"get_hsy(.data=\"Vaestotietoruudukko\"), use get_vaestotietoruudukko. get_hsy(.data=\"Rakennustietoruudukko\"), use get_rakennustietoruudukko.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/helsinki-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Helsinki open data R tools — helsinki-package","title":"Helsinki open data R tools — helsinki-package","text":"Brief summary helsinki package","code":""},{"path":"https://ropengov.github.io/helsinki/reference/helsinki-package.html","id":"section-details","dir":"Reference","previous_headings":"","what":"Details","title":"Helsinki open data R tools — helsinki-package","text":"Tools accessing various open data sources Helsinki region Finland.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/helsinki-package.html","id":"section-references","dir":"Reference","previous_headings":"","what":"References","title":"Helsinki open data R tools — helsinki-package","text":"See citation(\"helsinki\") https://github.com/rOpenGov/helsinki","code":""},{"path":"https://ropengov.github.io/helsinki/reference/helsinki-package.html","id":"section-author","dir":"Reference","previous_headings":"","what":"Author","title":"Helsinki open data R tools — helsinki-package","text":"Juuso Parkkinen, Leo Lahti, Joona Lehtomaki     Pyry Kantanen louhos@googlegroups.com","code":""},{"path":"https://ropengov.github.io/helsinki/reference/select_feature.html","id":null,"dir":"Reference","previous_headings":"","what":"Interactively browse and select features — select_feature","title":"Interactively browse and select features — select_feature","text":"Use interactive menu select download feature  use functions","code":""},{"path":"https://ropengov.github.io/helsinki/reference/select_feature.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Interactively browse and select features — select_feature","text":"","code":"select_feature(base.url = NULL, get = FALSE)"},{"path":"https://ropengov.github.io/helsinki/reference/select_feature.html","id":"pkg-arg-base.url","dir":"Reference","previous_headings":"","what":"base.url (argument)","title":"Interactively browse and select features — select_feature","text":"base.url WFS url, example \"https://kartta.hsy.fi/geoserver/wfs\"","code":""},{"path":"https://ropengov.github.io/helsinki/reference/select_feature.html","id":"pkg-arg-get","dir":"Reference","previous_headings":"","what":"get (argument)","title":"Interactively browse and select features — select_feature","text":"get selected feature downloaded? Default FALSE","code":""},{"path":"https://ropengov.github.io/helsinki/reference/select_feature.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Interactively browse and select features — select_feature","text":"feature Title (character) feature object (sf), get parameter TRUE","code":""},{"path":[]},{"path":"https://ropengov.github.io/helsinki/reference/select_feature.html","id":"section-author","dir":"Reference","previous_headings":"","what":"Author","title":"Interactively browse and select features — select_feature","text":"Pyry Kantanen <pyry.kantanen@gmail.com>","code":""},{"path":"https://ropengov.github.io/helsinki/reference/to_sf.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform to sf-object — to_sf","title":"Transform to sf-object — to_sf","text":"Transform wfs_api object sf object.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/to_sf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform to sf-object — to_sf","text":"","code":"to_sf(api_obj)"},{"path":"https://ropengov.github.io/helsinki/reference/to_sf.html","id":"pkg-arg-api_obj","dir":"Reference","previous_headings":"","what":"api_obj (argument)","title":"Transform to sf-object — to_sf","text":"api_obj wfs api object","code":""},{"path":"https://ropengov.github.io/helsinki/reference/to_sf.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Transform to sf-object — to_sf","text":"sf object","code":""},{"path":"https://ropengov.github.io/helsinki/reference/to_sf.html","id":"section-details","dir":"Reference","previous_headings":"","what":"Details","title":"Transform to sf-object — to_sf","text":"FMI API response object's XML (GML) content temporarily wrtitten disk immediately read back sf object.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/to_sf.html","id":"section-note","dir":"Reference","previous_headings":"","what":"Note","title":"Transform to sf-object — to_sf","text":"internal use, exported.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/to_sf.html","id":"section-author","dir":"Reference","previous_headings":"","what":"Author","title":"Transform to sf-object — to_sf","text":"Joona Lehtomäki <joona.lehtomaki@iki.fi>","code":""},{"path":"https://ropengov.github.io/helsinki/reference/wfs_api.html","id":null,"dir":"Reference","previous_headings":"","what":"WFS API — wfs_api","title":"WFS API — wfs_api","text":"Requests various WFS API.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/wfs_api.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"WFS API — wfs_api","text":"","code":"wfs_api(base.url = NULL, queries)"},{"path":"https://ropengov.github.io/helsinki/reference/wfs_api.html","id":"pkg-arg-base.url","dir":"Reference","previous_headings":"","what":"base.url (argument)","title":"WFS API — wfs_api","text":"base.url WFS url, example \"https://kartta.hsy.fi/geoserver/wfs\"","code":""},{"path":"https://ropengov.github.io/helsinki/reference/wfs_api.html","id":"pkg-arg-queries","dir":"Reference","previous_headings":"","what":"queries (argument)","title":"WFS API — wfs_api","text":"queries List query parameters","code":""},{"path":"https://ropengov.github.io/helsinki/reference/wfs_api.html","id":"section-source","dir":"Reference","previous_headings":"","what":"Source","title":"WFS API — wfs_api","text":"Gracefully failing HTTP request code (slightly adapted Pyry     Kantanen) RStudio community member kvasilopoulos. Many thanks! Source original RStudio community discussion:    https://community.rstudio.com/t/internet-resources--fail-gracefully/49199","code":""},{"path":"https://ropengov.github.io/helsinki/reference/wfs_api.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"WFS API — wfs_api","text":"wfs_api (S3) object following attributes: content XML payload. path path provided get resonse. response original response object.","code":""},{"path":"https://ropengov.github.io/helsinki/reference/wfs_api.html","id":"section-details","dir":"Reference","previous_headings":"","what":"Details","title":"WFS API — wfs_api","text":"Make request spesific WFS API. base url    https://kartta.hsy.fi/geoserver/wfs    components defined arguments appended. low-level function intended used higher level    functions package. Note GET requests used using `httpcache` meaning requests    cached. want clear cache, use [httpcache::clearCache()].     turn cache completely, use [httpcache::cacheOff()]","code":""},{"path":"https://ropengov.github.io/helsinki/reference/wfs_api.html","id":"section-author","dir":"Reference","previous_headings":"","what":"Author","title":"WFS API — wfs_api","text":"Joona Lehtomäki <joona.lehtomaki@iki.fi>, Kostas Vasilopoulos,    Pyry Kantanen","code":""},{"path":[]},{"path":"https://ropengov.github.io/helsinki/news/index.html","id":"deprecated-and-defunct","dir":"Changelog","previous_headings":"","what":"DEPRECATED AND DEFUNCT","title":"helsinki 1.0.5 (2021-09-27)","text":"Dataset aluejakokartat now removed package. replacement recommended use get_city_map() function download --date maps different cities.","code":""},{"path":[]},{"path":"https://ropengov.github.io/helsinki/news/index.html","id":"minor-improvements","dir":"Changelog","previous_headings":"","what":"MINOR IMPROVEMENTS","title":"helsinki 1.0.3 (2021-08-30)","text":"wfs_api made output messages instead warnings errors case connectivity problems get_rakennustietoruudukko() get_vaestotietoruudukko() now 2020 data, one exceptionally named dataset 2016 now downloads correctly Vignette examples now robust unexpected errors","code":""},{"path":[]},{"path":"https://ropengov.github.io/helsinki/news/index.html","id":"new-features","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"helsinki 1.0.1 (2021-05-09)","text":"New function get_feature_list() added easily list available features WFS API New function select_feature() added interactively browse select features WFS API New function get_feature() added simplified experience interacting wfs_api() New function get_city_map() added interactively download city administrative boundaries API instead provide package New functions wfs_api() to_sf() added another rOpenGov-package, fmi2, interact WFS APIs","code":""},{"path":"https://ropengov.github.io/helsinki/news/index.html","id":"minor-improvements-1","dir":"Changelog","previous_headings":"","what":"MINOR IMPROVEMENTS","title":"helsinki 1.0.1 (2021-05-09)","text":"Improved output get_servicemap() get_linkedevents() Rmarkdown added explicit dependency, required knitr-package maintainers Using period.separated naming function parameters underscore_separated naming function names objects inside functions, distinction two sometimes useful increased code legibility","code":""},{"path":"https://ropengov.github.io/helsinki/news/index.html","id":"deprecated-and-defunct-1","dir":"Changelog","previous_headings":"","what":"DEPRECATED AND DEFUNCT","title":"helsinki 1.0.1 (2021-05-09)","text":"get_hsy() now deprecated due URL changes. Use get_vaestotietoruudukko() get_rakennustietoruudukko instead. Older datasets must now downloaded directly Helsinki Region Infoshare website (example https://hri.fi/data/en_GB/dataset/rakennustietoruudukko case Building Information Grid) whereas package functionalities revolve around interacting downloading data WFS API. Package longer maptools RCurl dependencies longer imports rjson, uses httr, httpcache jsonlite instead","code":""},{"path":"https://ropengov.github.io/helsinki/news/index.html","id":"documentation-fixes","dir":"Changelog","previous_headings":"","what":"DOCUMENTATION FIXES","title":"helsinki 1.0.1 (2021-05-09)","text":"Updated vignette Improved documentation get_servicemap() get_linkedevents()","code":""},{"path":"https://ropengov.github.io/helsinki/news/index.html","id":"helsinki-0929-2017-02-18","dir":"Changelog","previous_headings":"","what":"helsinki 0.9.29 (2017-02-18)","title":"helsinki 0.9.29 (2017-02-18)","text":"Package released CRAN","code":""},{"path":"https://ropengov.github.io/helsinki/news/index.html","id":"helsinki-0916-2014-05-12","dir":"Changelog","previous_headings":"","what":"helsinki 0.9.16 (2014-05-12)","title":"helsinki 0.9.16 (2014-05-12)","text":"Package updated lot","code":""},{"path":"https://ropengov.github.io/helsinki/news/index.html","id":"helsinki-0901-2013-12-17","dir":"Changelog","previous_headings":"","what":"helsinki 0.9.01 (2013-12-17)","title":"helsinki 0.9.01 (2013-12-17)","text":"Package separated sorvi","code":""}]
